<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="mainThreadGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4CAF50;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#388E3C;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="thread1Gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#2196F3;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1976D2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="thread2Gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF9800;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#F57C00;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="thread3Gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#F44336;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D32F2F;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="thread4Gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#9C27B0;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7B1FA2;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="#00000030"/>
    </filter>
  </defs>
  
  <!-- 배경 -->
  <rect width="1200" height="800" fill="#f8f9fa"/>
  
  <!-- 제목 -->
  <text x="600" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="#333">
    Win32 스레드 API 종합 예제 실행 과정
  </text>
  
  <!-- 시간축 -->
  <line x1="100" y1="80" x2="1100" y2="80" stroke="#333" stroke-width="2" marker-end="url(#timeArrow)"/>
  <defs>
    <marker id="timeArrow" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
  </defs>
  <text x="1120" y="85" font-family="Arial, sans-serif" font-size="12" fill="#333">시간</text>
  
  <!-- 시간 눈금 -->
  <g stroke="#666" stroke-width="1" font-family="Arial, sans-serif" font-size="10" fill="#666">
    <line x1="150" y1="75" x2="150" y2="85"/>
    <text x="150" y="100" text-anchor="middle">0ms</text>
    <line x1="300" y1="75" x2="300" y2="85"/>
    <text x="300" y="100" text-anchor="middle">1000ms</text>
    <line x1="450" y1="75" x2="450" y2="85"/>
    <text x="450" y="100" text-anchor="middle">2000ms</text>
    <line x1="600" y1="75" x2="600" y2="85"/>
    <text x="600" y="100" text-anchor="middle">3000ms</text>
    <line x1="750" y1="75" x2="750" y2="85"/>
    <text x="750" y="100" text-anchor="middle">4000ms</text>
  </g>
  
  <!-- 메인 스레드 -->
  <text x="50" y="135" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">메인 스레드</text>
  
  <!-- 스레드 생성 단계 -->
  <rect x="150" y="120" width="100" height="30" fill="url(#mainThreadGradient)" filter="url(#shadow)"/>
  <text x="200" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">
    스레드 생성
  </text>
  
  <!-- WaitForMultipleObjects -->
  <rect x="250" y="120" width="500" height="30" fill="url(#mainThreadGradient)" opacity="0.6" stroke="#4CAF50" stroke-width="2" stroke-dasharray="5,5" filter="url(#shadow)"/>
  <text x="500" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#388E3C">
    WaitForMultipleObjects - 모든 스레드 완료 대기
  </text>
  
  <!-- 결과 처리 -->
  <rect x="750" y="120" width="150" height="30" fill="url(#mainThreadGradient)" filter="url(#shadow)"/>
  <text x="825" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">
    결과 처리 & 정리
  </text>
  
  <!-- 작업 스레드 1 (2초) -->
  <text x="50" y="185" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1976D2">작업 1 스레드</text>
  <text x="50" y="200" font-family="Arial, sans-serif" font-size="10" fill="#666">(2000ms, 일반)</text>
  
  <rect x="150" y="170" width="300" height="25" fill="url(#thread1Gradient)" filter="url(#shadow)"/>
  <text x="300" y="187" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">
    작업 1 실행 중 (2초)
  </text>
  
  <!-- 작업 스레드 2 (1.5초) -->
  <text x="50" y="235" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#F57C00">작업 2 스레드</text>
  <text x="50" y="250" font-family="Arial, sans-serif" font-size="10" fill="#666">(1500ms, 일반)</text>
  
  <rect x="150" y="220" width="225" height="25" fill="url(#thread2Gradient)" filter="url(#shadow)"/>
  <text x="262" y="237" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">
    작업 2 실행 중 (1.5초)
  </text>
  
  <!-- 작업 스레드 3 (3초, 높은 우선순위) -->
  <text x="50" y="285" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#D32F2F">작업 3 스레드</text>
  <text x="50" y="300" font-family="Arial, sans-serif" font-size="10" fill="#666">(3000ms, 높은 우선순위)</text>
  
  <rect x="150" y="270" width="450" height="25" fill="url(#thread3Gradient)" filter="url(#shadow)"/>
  <text x="375" y="287" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">
    작업 3 실행 중 (3초) - 높은 우선순위
  </text>
  
  <!-- 우선순위 표시 -->
  <polygon points="140,270 150,277 140,285" fill="#FFD700"/>
  <text x="125" y="280" font-family="Arial, sans-serif" font-size="8" fill="#FFD700" font-weight="bold">★</text>
  
  <!-- 작업 스레드 4 (1초, 높은 우선순위) -->
  <text x="50" y="335" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#7B1FA2">작업 4 스레드</text>
  <text x="50" y="350" font-family="Arial, sans-serif" font-size="10" fill="#666">(1000ms, 높은 우선순위)</text>
  
  <rect x="150" y="320" width="150" height="25" fill="url(#thread4Gradient)" filter="url(#shadow)"/>
  <text x="225" y="337" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">
    작업 4 실행 중 (1초)
  </text>
  
  <!-- 우선순위 표시 -->
  <polygon points="140,320 150,327 140,335" fill="#FFD700"/>
  <text x="125" y="330" font-family="Arial, sans-serif" font-size="8" fill="#FFD700" font-weight="bold">★</text>
  
  <!-- 스레드 완료 표시 -->
  <g stroke="#4CAF50" stroke-width="2" stroke-dasharray="3,3">
    <line x1="300" y1="160" x2="300" y2="200"/>  <!-- 작업 4 완료 -->
    <line x1="375" y1="160" x2="375" y2="200"/>  <!-- 작업 2 완료 -->
    <line x1="450" y1="160" x2="450" y2="200"/>  <!-- 작업 1 완료 -->
    <line x1="600" y1="160" x2="600" y2="300"/>  <!-- 작업 3 완료 -->
  </g>
  
  <!-- 완료 순서 표시 -->
  <circle cx="300" cy="360" r="15" fill="#9C27B0"/>
  <text x="300" y="366" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">1</text>
  <text x="300" y="385" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">작업 4 완료</text>
  
  <circle cx="375" cy="360" r="15" fill="#FF9800"/>
  <text x="375" y="366" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">2</text>
  <text x="375" y="385" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">작업 2 완료</text>
  
  <circle cx="450" cy="360" r="15" fill="#2196F3"/>
  <text x="450" y="366" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">3</text>
  <text x="450" y="385" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">작업 1 완료</text>
  
  <circle cx="600" cy="360" r="15" fill="#F44336"/>
  <text x="600" y="366" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">4</text>
  <text x="600" y="385" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">작업 3 완료</text>
  
  <!-- 작업 정보 박스 -->
  <rect x="50" y="420" width="1100" height="140" rx="10" fill="#E8F5E8" opacity="0.8" filter="url(#shadow)"/>
  <text x="600" y="445" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#333">
    작업 정보 및 실행 결과
  </text>
  
  <!-- 작업 정보 테이블 -->
  <g transform="translate(80, 460)">
    <rect x="0" y="0" width="200" height="80" rx="5" fill="white" stroke="#2196F3" stroke-width="1"/>
    <text x="100" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1976D2">
      작업 1 (ID: 1)
    </text>
    <text x="20" y="40" font-family="Arial, sans-serif" font-size="10" fill="#333">처리 시간: 2000ms</text>
    <text x="20" y="55" font-family="Arial, sans-serif" font-size="10" fill="#333">우선순위: 일반</text>
    <text x="20" y="70" font-family="Arial, sans-serif" font-size="10" fill="#333">완료 순서: 3번째</text>
  </g>
  
  <g transform="translate(300, 460)">
    <rect x="0" y="0" width="200" height="80" rx="5" fill="white" stroke="#FF9800" stroke-width="1"/>
    <text x="100" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#F57C00">
      작업 2 (ID: 2)
    </text>
    <text x="20" y="40" font-family="Arial, sans-serif" font-size="10" fill="#333">처리 시간: 1500ms</text>
    <text x="20" y="55" font-family="Arial, sans-serif" font-size="10" fill="#333">우선순위: 일반</text>
    <text x="20" y="70" font-family="Arial, sans-serif" font-size="10" fill="#333">완료 순서: 2번째</text>
  </g>
  
  <g transform="translate(520, 460)">
    <rect x="0" y="0" width="200" height="80" rx="5" fill="white" stroke="#F44336" stroke-width="1"/>
    <text x="100" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#D32F2F">
      작업 3 (ID: 3) ★
    </text>
    <text x="20" y="40" font-family="Arial, sans-serif" font-size="10" fill="#333">처리 시간: 3000ms</text>
    <text x="20" y="55" font-family="Arial, sans-serif" font-size="10" fill="#333">우선순위: 높음</text>
    <text x="20" y="70" font-family="Arial, sans-serif" font-size="10" fill="#333">완료 순서: 4번째 (마지막)</text>
  </g>
  
  <g transform="translate(740, 460)">
    <rect x="0" y="0" width="200" height="80" rx="5" fill="white" stroke="#9C27B0" stroke-width="1"/>
    <text x="100" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#7B1FA2">
      작업 4 (ID: 4) ★
    </text>
    <text x="20" y="40" font-family="Arial, sans-serif" font-size="10" fill="#333">처리 시간: 1000ms</text>
    <text x="20" y="55" font-family="Arial, sans-serif" font-size="10" fill="#333">우선순위: 높음</text>
    <text x="20" y="70" font-family="Arial, sans-serif" font-size="10" fill="#333">완료 순서: 1번째 (최단시간)</text>
  </g>
  
  <!-- 핵심 포인트 -->
  <rect x="50" y="580" width="1100" height="180" rx="10" fill="#FFF3E0" opacity="0.8" filter="url(#shadow)"/>
  <text x="600" y="605" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#F57C00">
    코드의 핵심 포인트
  </text>
  
  <g transform="translate(80, 620)">
    <circle cx="8" cy="8" r="6" fill="#4CAF50"/>
    <text x="25" y="13" font-family="Arial, sans-serif" font-size="12" fill="#333">
      <tspan font-weight="bold">병렬 처리:</tspan> 4개 작업이 동시에 실행되어 총 실행 시간이 가장 긴 작업(3초)으로 단축됨
    </text>
  </g>
  
  <g transform="translate(80, 645)">
    <circle cx="8" cy="8" r="6" fill="#2196F3"/>
    <text x="25" y="13" font-family="Arial, sans-serif" font-size="12" fill="#333">
      <tspan font-weight="bold">우선순위 제어:</tspan> SetThreadPriority()로 작업 3, 4의 우선순위를 높게 설정
    </text>
  </g>
  
  <g transform="translate(80, 670)">
    <circle cx="8" cy="8" r="6" fill="#FF9800"/>
    <text x="25" y="13" font-family="Arial, sans-serif" font-size="12" fill="#333">
      <tspan font-weight="bold">동기화:</tspan> WaitForMultipleObjects()로 모든 스레드 완료를 한 번에 대기
    </text>
  </g>
  
  <g transform="translate(80, 695)">
    <circle cx="8" cy="8" r="6" fill="#9C27B0"/>
    <text x="25" y="13" font-family="Arial, sans-serif" font-size="12" fill="#333">
      <tspan font-weight="bold">결과 수집:</tspan> GetExitCodeThread()로 각 스레드의 반환값(작업 ID) 확인
    </text>
  </g>
  
  <g transform="translate(80, 720)">
    <circle cx="8" cy="8" r="6" fill="#F44336"/>
    <text x="25" y="13" font-family="Arial, sans-serif" font-size="12" fill="#333">
      <tspan font-weight="bold">리소스 관리:</tspan> CloseHandle()로 모든 스레드 핸들을 정리하여 메모리 누수 방지
    </text>
  </g>
  
  <!-- 총 실행 시간 표시 -->
  <rect x="950" y="580" width="200" height="80" rx="8" fill="#E3F2FD" stroke="#2196F3" stroke-width="2"/>
  <text x="1050" y="605" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1976D2">
    총 실행 시간
  </text>
  <text x="1050" y="630" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#F44336">
    ~3000ms
  </text>
  <text x="1050" y="650" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">
    (순차 실행 시: 7500ms)
  </text>
</svg>