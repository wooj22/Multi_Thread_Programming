<svg viewBox="0 0 900 700" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="processAGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4CAF50;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#45a049;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="processBGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#2196F3;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1976D2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="processCGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF9800;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#F57C00;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="osGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#9C27B0;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7B1FA2;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="#00000030"/>
    </filter>
  </defs>
  
  <!-- 배경 -->
  <rect width="900" height="700" fill="#f8f9fa"/>
  
  <!-- 제목 -->
  <text x="450" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="#333">
    선점형 멀티태스킹 (Preemptive Multitasking)
  </text>
  
  <!-- 시간축 -->
  <line x1="80" y1="80" x2="820" y2="80" stroke="#333" stroke-width="2" marker-end="url(#timeArrow)"/>
  <defs>
    <marker id="timeArrow" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
  </defs>
  <text x="850" y="85" font-family="Arial, sans-serif" font-size="12" fill="#333">시간</text>
  
  <!-- 시간 눈금 -->
  <g stroke="#666" stroke-width="1" font-family="Arial, sans-serif" font-size="10" fill="#666">
    <line x1="120" y1="75" x2="120" y2="85"/>
    <text x="120" y="100" text-anchor="middle">0ms</text>
    <line x1="220" y1="75" x2="220" y2="85"/>
    <text x="220" y="100" text-anchor="middle">10ms</text>
    <line x1="320" y1="75" x2="320" y2="85"/>
    <text x="320" y="100" text-anchor="middle">20ms</text>
    <line x1="420" y1="75" x2="420" y2="85"/>
    <text x="420" y="100" text-anchor="middle">30ms</text>
    <line x1="520" y1="75" x2="520" y2="85"/>
    <text x="520" y="100" text-anchor="middle">40ms</text>
    <line x1="620" y1="75" x2="620" y2="85"/>
    <text x="620" y="100" text-anchor="middle">50ms</text>
    <line x1="720" y1="75" x2="720" y2="85"/>
    <text x="720" y="100" text-anchor="middle">60ms</text>
  </g>
  
  <!-- CPU 실행 타임라인 -->
  <text x="40" y="135" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">CPU</text>
  
  <!-- 프로세스 A 실행 구간들 -->
  <rect x="120" y="120" width="80" height="30" fill="url(#processAGradient)" filter="url(#shadow)"/>
  <text x="160" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">프로세스 A</text>
  
  <rect x="320" y="120" width="60" height="30" fill="url(#processAGradient)" filter="url(#shadow)"/>
  <text x="350" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">A</text>
  
  <rect x="580" y="120" width="70" height="30" fill="url(#processAGradient)" filter="url(#shadow)"/>
  <text x="615" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">A</text>
  
  <!-- 프로세스 B 실행 구간들 -->
  <rect x="200" y="120" width="70" height="30" fill="url(#processBGradient)" filter="url(#shadow)"/>
  <text x="235" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">프로세스 B</text>
  
  <rect x="450" y="120" width="80" height="30" fill="url(#processBGradient)" filter="url(#shadow)"/>
  <text x="490" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">B</text>
  
  <!-- 프로세스 C 실행 구간들 -->
  <rect x="270" y="120" width="50" height="30" fill="url(#processCGradient)" filter="url(#shadow)"/>
  <text x="295" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">C</text>
  
  <rect x="380" y="120" width="70" height="30" fill="url(#processCGradient)" filter="url(#shadow)"/>
  <text x="415" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">프로세스 C</text>
  
  <rect x="530" y="120" width="50" height="30" fill="url(#processCGradient)" filter="url(#shadow)"/>
  <text x="555" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">C</text>
  
  <rect x="650" y="120" width="70" height="30" fill="url(#processCGradient)" filter="url(#shadow)"/>
  <text x="685" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">C</text>
  
  <!-- 타이머 인터럽트 표시 -->
  <g stroke="#FF0000" stroke-width="2" stroke-dasharray="3,3">
    <line x1="200" y1="110" x2="200" y2="160"/>
    <line x1="270" y1="110" x2="270" y2="160"/>
    <line x1="320" y1="110" x2="320" y2="160"/>
    <line x1="380" y1="110" x2="380" y2="160"/>
    <line x1="450" y1="110" x2="450" y2="160"/>
    <line x1="530" y1="110" x2="530" y2="160"/>
    <line x1="580" y1="110" x2="580" y2="160"/>
    <line x1="650" y1="110" x2="650" y2="160"/>
  </g>
  
  <!-- 타이머 인터럽트 레이블 -->
  <text x="200" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#FF0000" font-weight="bold">인터럽트</text>
  <text x="270" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#FF0000" font-weight="bold">인터럽트</text>
  <text x="320" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#FF0000" font-weight="bold">인터럽트</text>
  <text x="450" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#FF0000" font-weight="bold">인터럽트</text>
  <text x="580" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#FF0000" font-weight="bold">인터럽트</text>
  
  <!-- OS 스케줄러 영역 -->
  <rect x="80" y="180" width="740" height="60" rx="10" fill="url(#osGradient)" opacity="0.9" filter="url(#shadow)"/>
  <text x="450" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
    운영체제 스케줄러 (OS Scheduler)
  </text>
  <text x="450" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">
    타이머 인터럽트를 통해 강제적으로 CPU를 다른 프로세스에게 할당
  </text>
  
  <!-- 프로세스 상태 다이어그램 -->
  <text x="450" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#333">
    프로세스 상태 전환
  </text>
  
  <!-- Ready Queue -->
  <rect x="100" y="310" width="150" height="80" rx="10" fill="#E3F2FD" stroke="#2196F3" stroke-width="2" filter="url(#shadow)"/>
  <text x="175" y="335" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1976D2">
    준비 큐 (Ready Queue)
  </text>
  <circle cx="130" cy="355" r="12" fill="#4CAF50"/>
  <text x="130" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">A</text>
  <circle cx="175" cy="355" r="12" fill="#2196F3"/>
  <text x="175" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">B</text>
  <circle cx="220" cy="355" r="12" fill="#FF9800"/>
  <text x="220" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">C</text>
  <text x="175" y="380" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">
    실행 대기 중인 프로세스들
  </text>
  
  <!-- Running State -->
  <rect x="375" y="310" width="150" height="80" rx="10" fill="#E8F5E8" stroke="#4CAF50" stroke-width="2" filter="url(#shadow)"/>
  <text x="450" y="335" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#388E3C">
    실행 상태 (Running)
  </text>
  <circle cx="450" cy="355" r="15" fill="#4CAF50"/>
  <text x="450" y="361" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white" font-weight="bold">A</text>
  <text x="450" y="380" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">
    현재 CPU를 사용 중
  </text>
  
  <!-- Blocked State -->
  <rect x="650" y="310" width="150" height="80" rx="10" fill="#FFEBEE" stroke="#F44336" stroke-width="2" filter="url(#shadow)"/>
  <text x="725" y="335" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#D32F2F">
    대기 상태 (Blocked)
  </text>
  <circle cx="700" cy="355" r="12" fill="#FF5722"/>
  <text x="700" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">D</text>
  <circle cx="750" cy="355" r="12" fill="#9E9E9E"/>
  <text x="750" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">E</text>
  <text x="725" y="380" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">
    I/O 대기 중인 프로세스들
  </text>
  
  <!-- 화살표 -->
  <defs>
    <marker id="arrowBlue" markerWidth="8" markerHeight="6" refX="0" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#2196F3"/>
    </marker>
    <marker id="arrowGreen" markerWidth="8" markerHeight="6" refX="0" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#4CAF50"/>
    </marker>
    <marker id="arrowRed" markerWidth="8" markerHeight="6" refX="0" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#F44336"/>
    </marker>
  </defs>
  
  <!-- 스케줄링 화살표 -->
  <path d="M 250 340 Q 300 320 375 340" stroke="#2196F3" stroke-width="2" fill="none" marker-end="url(#arrowBlue)"/>
  <text x="312" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#2196F3" font-weight="bold">스케줄링</text>
  
  <!-- 선점 화살표 -->
  <path d="M 450 310 Q 450 280 250 310" stroke="#FF5722" stroke-width="2" fill="none" marker-end="url(#arrowRed)" stroke-dasharray="5,3"/>
  <text x="350" y="275" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#FF5722" font-weight="bold">타이머 인터럽트</text>
  <text x="350" y="290" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#FF5722" font-weight="bold">(선점)</text>
  
  <!-- I/O 대기 화살표 -->
  <path d="M 525 350 Q 580 330 650 350" stroke="#9E9E9E" stroke-width="2" fill="none" marker-end="url(#arrowRed)"/>
  <text x="587" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#9E9E9E" font-weight="bold">I/O 요청</text>
  
  <!-- I/O 완료 화살표 -->
  <path d="M 650 370 Q 580 390 250 370" stroke="#4CAF50" stroke-width="2" fill="none" marker-end="url(#arrowGreen)"/>
  <text x="450" y="405" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#4CAF50" font-weight="bold">I/O 완료</text>
  
  <!-- 특징 설명 박스 -->
  <rect x="80" y="450" width="740" height="200" rx="10" fill="#F5F5F5" opacity="0.9" filter="url(#shadow)"/>
  <text x="450" y="475" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#333">
    선점형 멀티태스킹의 특징
  </text>
  
  <!-- 특징 박스들 -->
  <g transform="translate(100, 490)">
    <rect x="0" y="0" width="160" height="100" rx="5" fill="#2196F3" opacity="0.1" stroke="#2196F3" stroke-width="1"/>
    <text x="80" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1976D2">
      강제적 CPU 할당
    </text>
    <text x="10" y="40" font-family="Arial, sans-serif" font-size="10" fill="#333">
      • 타이머 인터럽트 사용
    </text>
    <text x="10" y="55" font-family="Arial, sans-serif" font-size="10" fill="#333">
      • OS가 강제로 스케줄링
    </text>
    <text x="10" y="70" font-family="Arial, sans-serif" font-size="10" fill="#333">
      • 프로세스 의지와 무관
    </text>
    <text x="10" y="85" font-family="Arial, sans-serif" font-size="10" fill="#333">
      • 시스템 안정성 보장
    </text>
  </g>
  
  <g transform="translate(280, 490)">
    <rect x="0" y="0" width="160" height="100" rx="5" fill="#4CAF50" opacity="0.1" stroke="#4CAF50" stroke-width="1"/>
    <text x="80" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#388E3C">
      응답성 향상
    </text>
    <text x="10" y="40" font-family="Arial, sans-serif" font-size="10" fill="#333">
      • 빠른 응답 시간
    </text>
    <text x="10" y="55" font-family="Arial, sans-serif" font-size="10" fill="#333">
      • 대화형 프로그램 지원
    </text>
    <text x="10" y="70" font-family="Arial, sans-serif" font-size="10" fill="#333">
      • 실시간 처리 가능
    </text>
    <text x="10" y="85" font-family="Arial, sans-serif" font-size="10" fill="#333">
      • 사용자 경험 개선
    </text>
  </g>
  
  <g transform="translate(460, 490)">
    <rect x="0" y="0" width="160" height="100" rx="5" fill="#FF9800" opacity="0.1" stroke="#FF9800" stroke-width="1"/>
    <text x="80" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#F57C00">
      공정한 자원 배분
    </text>
    <text x="10" y="40" font-family="Arial, sans-serif" font-size="10" fill="#333">
      • 모든 프로세스 실행 기회
    </text>
    <text x="10" y="55" font-family="Arial, sans-serif" font-size="10" fill="#333">
      • CPU 독점 방지
    </text>
    <text x="10" y="70" font-family="Arial, sans-serif" font-size="10" fill="#333">
      • 우선순위 기반 스케줄링
    </text>
    <text x="10" y="85" font-family="Arial, sans-serif" font-size="10" fill="#333">
      • 시스템 처리량 최적화
    </text>
  </g>
  
  <!-- 오버헤드 박스 -->
  <g transform="translate(640, 490)">
    <rect x="0" y="0" width="160" height="100" rx="5" fill="#F44336" opacity="0.1" stroke="#F44336" stroke-width="1"/>
    <text x="80" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#D32F2F">
      컨텍스트 스위치 비용
    </text>
    <text x="10" y="40" font-family="Arial, sans-serif" font-size="10" fill="#333">
      • 레지스터 저장/복원
    </text>
    <text x="10" y="55" font-family="Arial, sans-serif" font-size="10" fill="#333">
      • 메모리 관리 오버헤드
    </text>
    <text x="10" y="70" font-family="Arial, sans-serif" font-size="10" fill="#333">
      • 캐시 미스 발생
    </text>
    <text x="10" y="85" font-family="Arial, sans-serif" font-size="10" fill="#333">
      • 성능 저하 가능성
    </text>
  </g>
  
  <!-- 시간 할당량 표시 -->
  <text x="160" y="170" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Time Slice</text>
  <text x="160" y="180" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">(8ms)</text>
  
  <text x="235" y="170" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Time Slice</text>
  <text x="235" y="180" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">(7ms)</text>
  
  <text x="295" y="170" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Time Slice</text>
  <text x="295" y="180" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">(5ms)</text>
</svg>