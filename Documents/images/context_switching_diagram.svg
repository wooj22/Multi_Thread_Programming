<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <!-- 제목 -->
  <text x="400" y="30" text-anchor="middle" font-size="20" font-weight="bold" fill="#333">컨텍스트 스위칭 과정</text>
  
  <!-- CPU -->
  <rect x="350" y="60" width="100" height="60" fill="#4a90e2" stroke="#2c5282" stroke-width="2" rx="5"/>
  <text x="400" y="95" text-anchor="middle" font-size="16" font-weight="bold" fill="white">CPU</text>
  
  <!-- 스레드 A (현재 실행 중) -->
  <rect x="150" y="180" width="120" height="80" fill="#e74c3c" stroke="#c0392b" stroke-width="2" rx="5"/>
  <text x="210" y="205" text-anchor="middle" font-size="14" font-weight="bold" fill="white">스레드 A</text>
  <text x="210" y="225" text-anchor="middle" font-size="12" fill="white">게임 로직</text>
  <text x="210" y="245" text-anchor="middle" font-size="12" fill="white">(실행 중)</text>
  
  <!-- 스레드 B (대기 중) -->
  <rect x="530" y="180" width="120" height="80" fill="#95a5a6" stroke="#7f8c8d" stroke-width="2" rx="5"/>
  <text x="590" y="205" text-anchor="middle" font-size="14" font-weight="bold" fill="white">스레드 B</text>
  <text x="590" y="225" text-anchor="middle" font-size="12" fill="white">네트워크 처리</text>
  <text x="590" y="245" text-anchor="middle" font-size="12" fill="white">(대기 중)</text>
  
  <!-- 화살표: CPU -> 스레드 A -->
  <path d="M 375 120 L 235 180" stroke="#4a90e2" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <text x="300" y="145" font-size="12" fill="#4a90e2">현재 실행</text>
  
  <!-- 메모리 영역 -->
  <rect x="100" y="320" width="600" height="200" fill="#f8f9fa" stroke="#dee2e6" stroke-width="2" rx="5"/>
  <text x="400" y="345" text-anchor="middle" font-size="16" font-weight="bold" fill="#333">메모리 (컨텍스트 저장소)</text>
  
  <!-- 스레드 A 컨텍스트 -->
  <rect x="130" y="370" width="200" height="120" fill="#ffebee" stroke="#e74c3c" stroke-width="1" rx="3"/>
  <text x="230" y="390" text-anchor="middle" font-size="14" font-weight="bold" fill="#c0392b">스레드 A 컨텍스트</text>
  <text x="140" y="410" font-size="11" fill="#666">• 레지스터 값들</text>
  <text x="140" y="425" font-size="11" fill="#666">• 스택 포인터</text>
  <text x="140" y="440" font-size="11" fill="#666">• 프로그램 카운터</text>
  <text x="140" y="455" font-size="11" fill="#666">• 변수 상태</text>
  <text x="140" y="470" font-size="11" fill="#666">• 실행 위치</text>
  
  <!-- 스레드 B 컨텍스트 -->
  <rect x="470" y="370" width="200" height="120" fill="#f0f0f0" stroke="#95a5a6" stroke-width="1" rx="3"/>
  <text x="570" y="390" text-anchor="middle" font-size="14" font-weight="bold" fill="#7f8c8d">스레드 B 컨텍스트</text>
  <text x="480" y="410" font-size="11" fill="#666">• 레지스터 값들</text>
  <text x="480" y="425" font-size="11" fill="#666">• 스택 포인터</text>
  <text x="480" y="440" font-size="11" fill="#666">• 프로그램 카운터</text>
  <text x="480" y="455" font-size="11" fill="#666">• 변수 상태</text>
  <text x="480" y="470" font-size="11" fill="#666">• 실행 위치</text>
  
  <!-- 저장/복원 화살표 -->
  <path d="M 210 260 L 230 370" stroke="#e74c3c" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/>
  <text x="160" y="310" font-size="11" fill="#e74c3c">상태 저장</text>
  
  <path d="M 570 370 L 590 260" stroke="#27ae60" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/>
  <text x="540" y="310" font-size="11" fill="#27ae60">상태 복원</text>
  
  <!-- 트리거 조건들 -->
  <rect x="350" y="540" width="100" height="40" fill="#f39c12" stroke="#e67e22" stroke-width="2" rx="5"/>
  <text x="400" y="565" text-anchor="middle" font-size="12" font-weight="bold" fill="white">트리거 발생</text>
  
  <!-- 화살표 정의 -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>
</svg>